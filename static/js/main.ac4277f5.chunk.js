(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,t,a){e.exports=a(98)},59:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(37),l=a.n(c),i=(a(59),a(6)),o=a(7),s=a(9),u=a(8),m=a(10),d=a(3),p=a(5),h=a(46),f=a(12),E=a.n(f),v=a(11),b=a.n(v),g="RECEIVE_DATA",j="GET_MEMBERS",O="GET_CHARACTER",y="GET_HOUSE",w="RESET_PANEL";function N(e){return{type:j,members:e}}function k(e){return{type:y,house:e}}function C(e){return{type:w,panel:e}}function L(){return function(e){return e(Object(v.showLoading)()),E.a.all([E.a.get("https://raw.githubusercontent.com/valarliang/data/master/gotcontents.js"),E.a.get("https://raw.githubusercontent.com/valarliang/data/master/gotdata.js")]).then(function(t){var a=t[1].data.seats,n=t[0].data;e(function(e,t){return{type:g,seats:e,houseInfo:t}}(a,n)),e(Object(v.hideLoading)())})}}function S(e){return function(t){return t(Object(v.showLoading)()),e?function(e,t){return E.a.all([E.a.get("https://www.anapioficeandfire.com/api/houses/"+e),E.a.get("https://raw.githubusercontent.com/valarliang/data/master/gotdata.js")]).then(function(e){var a=Object(h.a)(e,2),n=a[0],r=a[1],c=r.data.characters,l=n.data,i=l.swornMembers,o=l.name,s=c.filter(function(e){return i.some(function(t){return t.endsWith("/"+e.id)})||o.includes(e.name.split(" ").pop())}).sort(function(e,t){return e.name>t.name?1:-1});t(N(s)),t(Object(v.hideLoading)())})}(e,t):function(e){return E.a.get("https://raw.githubusercontent.com/valarliang/data/master/gotdata.js").then(function(t){var a=t.data,n=a.characters;n.sort(function(e,t){return e.name.split(" ").pop()>t.name.split(" ").pop()?1:-1}),e(N(n)),e(Object(v.hideLoading)())})}(t)}}function R(e){return function(t){return t(Object(v.showLoading)()),E.a.get("https://www.anapioficeandfire.com/api/houses/"+e).then(function(e){var a=e.data;a.currentLord?E.a.get(a.currentLord).then(function(e){a.currentLord=e.data.name,t(k(a)),t(Object(v.hideLoading)())}):(a.currentLord="unknown",t(k(a)),t(Object(v.hideLoading)()))})}}function I(e){return function(t,a){return t(Object(v.showLoading)()),E.a.get("https://www.anapioficeandfire.com/api/characters/"+e).then(function(e){var t=e.data,n=a().members.filter(function(e){var a=e.name.split(" ").pop(),n=t.name.split(" ").pop(),r=e.name.split(" ")[0],c=t.name.split(" ")[0];return a===n&&r!==c});return t.allegiances[0]&&t.culture[0]||!n[0]?t:E.a.all(n.map(function(e){return E.a.get("https://www.anapioficeandfire.com/api/characters/".concat(e.id))})).then(function(e){var a=e.find(function(e){return e.data.allegiances[0]}),n=e.find(function(e){return e.data.culture});return!t.allegiances[0]&&a&&(t.allegiances=a.data.allegiances),!t.culture&&n&&(t.culture=n.data.culture),t})}).then(function(e){E.a.all(e.allegiances.map(function(e){return E.a.get(e)})).then(function(a){t(k(a.map(function(e){return e.data}))),t({type:O,character:e}),t(Object(v.hideLoading)())})})}}var A=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.seats;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"large-header"},"A GAME OF THRONES IN WESTEROS"),r.a.createElement("h3",{className:"header text-center"},"Select a Seat"),r.a.createElement("div",{className:"home-grid text-center"},e.map(function(e,t){return r.a.createElement(d.b,{key:e.name,to:"/".concat(e.id),style:{background:"url('https://raw.githubusercontent.com/valarliang/data/master/gotimg/sigil.jpg') -".concat(130*t,"px")}},e.name)})))}}]),t}(n.Component),M=Object(p.connect)(function(e){return{seats:e.seats}})(A);function W(e){var t=e.to,a=e.children;return r.a.createElement(d.d,{path:t.pathname,children:function(e){var n=e.match;return r.a.createElement("li",{style:{fontWeight:n?"bold":"normal",background:n?"black":""}},r.a.createElement(d.b,{to:t,style:{color:n?"white":""}},a))}})}function x(e){var t=e.title,a=e.list,n=e.location,c=e.match;return r.a.createElement("div",null,r.a.createElement("h3",{className:"header"},t),r.a.createElement("ul",{className:"sidebar-list"},a.map(function(e){return r.a.createElement(W,{key:e.name,to:{pathname:"".concat(c.url,"/").concat(e.id),search:n.search}},e.name.toUpperCase())})))}var T=a(44),P=a(15),B=a.n(P),H=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.dispatch)(I(e.match.params.id))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.dispatch,n=t.match.params.id,r=e.match.params.id;n!==r&&a(I(r))}},{key:"componentWillUnmount",value:function(){(0,this.props.dispatch)(C([]))}},{key:"render",value:function(){var e=this.props,t=e.character,a=e.house,n=e.seats;return t.name?r.a.createElement("div",{className:"panel"},r.a.createElement("img",{className:"avatar",src:"https://raw.githubusercontent.com/valarliang/data/master/gotimg/".concat(B()(t.name),".jpg"),alt:t.name}),r.a.createElement("h1",{className:"medium-header"},t.name),r.a.createElement("div",{className:"panel-title"},"Titles"),r.a.createElement("ul",{className:"info-list"},t.titles[0]?t.titles.map(function(e){return r.a.createElement("li",{key:e},r.a.createElement("div",null,e))}):r.a.createElement("div",null,"~remain unknown~")),r.a.createElement("div",{className:"panel-title"},"Aliases"),r.a.createElement("ul",{className:"info-list"},t.aliases[0]?t.aliases.map(function(e){return r.a.createElement("li",{key:e},r.a.createElement("div",null,e))}):r.a.createElement("div",null,"~remain unknown~")),r.a.createElement("div",{className:"row"},r.a.createElement("ul",{className:"info-list",style:{marginRight:"80px"}},r.a.createElement("li",null,"Culture",r.a.createElement("div",null,t.culture?t.culture:r.a.createElement("div",null,"~remain unknown~"))),r.a.createElement("li",null,"House",a[0]?a.map(function(e){var t=n.find(function(t){return e.url.endsWith(t.id)});return t?r.a.createElement(d.b,{key:e.name,style:{color:"#68809a"},to:"/".concat(t.id)},r.a.createElement("div",null,e.name)):r.a.createElement("div",{key:e.name},e.name)}):r.a.createElement("div",null,"~remain unknown~"))),r.a.createElement("ul",{className:"info-list"},r.a.createElement("li",null,"Born",r.a.createElement("div",null,t.born)),r.a.createElement("li",null,"Impersonator",r.a.createElement("div",null,t.playedBy[0]?t.playedBy.join("/"):r.a.createElement("div",null,"~remain unknown~")))))):null}}]),t}(n.Component),D=Object(p.connect)(function(e){return{character:e.character,house:e.house,seats:e.seats}})(H),U=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,a=e.dispatch;t.search?a(S(Object(T.parse)(t.search).houseId)):a(S())}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.location,n=t.dispatch;a.search&&e.location.search!==a.search&&n(S())}},{key:"componentWillUnmount",value:function(){(0,this.props.dispatch)(C([]))}},{key:"render",value:function(){var e=this.props,t=e.members,a=e.match,n=e.location;return r.a.createElement("div",{className:"container two-column"},r.a.createElement(x,Object.assign({title:"POV Characters",list:t},this.props)),"/characters"===n.pathname?r.a.createElement("div",{className:"sidebar-instruction header"},"Select a character"):null,r.a.createElement(d.d,{path:"".concat(a.url,"/:id"),component:D}))}}]),t}(n.Component),_=Object(p.connect)(function(e){return{members:e.members}})(U),G=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.dispatch)(R(e.id))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.dispatch,n=t.id,r=e.id;n!==r&&a(R(r))}},{key:"componentWillUnmount",value:function(){(0,this.props.dispatch)(C([]))}},{key:"render",value:function(){return this.props.children(this.props.house)}}]),t}(n.Component),V=Object(p.connect)(function(e){return{house:e.house}})(G),F=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.seats,a=e.location,n=e.match;return r.a.createElement("div",{className:"container two-column"},r.a.createElement(x,Object.assign({title:"Seats Of Houses",list:t},this.props)),"/seats"===a.pathname?r.a.createElement("div",{className:"sidebar-instruction header"},"Select a seat"):null,r.a.createElement(d.d,{path:"".concat(n.url,"/:id"),render:function(e){var a=e.match.params;return r.a.createElement("div",{className:"panel"},r.a.createElement(V,{id:a.id},function(e){return e.name?r.a.createElement("div",{className:"panel"},r.a.createElement("img",{className:"house-avatar",src:"https://raw.githubusercontent.com/valarliang/data/master/gotimg/".concat(B()(t.find(function(e){return e.id===Number(a.id)}).name),".jpg"),alt:e.name}),r.a.createElement("h1",{className:"medium-header"},e.name),r.a.createElement("div",{className:"panel-title"},e.words?'"'.concat(e.words,'"'):"None"),r.a.createElement("div",{className:"row"},r.a.createElement("ul",{className:"info-list",style:{marginRight:"80px"}},r.a.createElement("li",null,"CurrentLord",r.a.createElement("div",null,e.currentLord)),r.a.createElement("li",null,"Founded",r.a.createElement("div",null,e.founded?e.founded:r.a.createElement("div",null,"unknown")))),r.a.createElement("ul",{className:"info-list"},r.a.createElement("li",null,"Region",r.a.createElement("div",null,e.region)),r.a.createElement("li",null,"Seats",r.a.createElement("div",null,e.seats.join("/"))))),r.a.createElement(d.b,{className:"center btn-main",to:"/".concat(a.id)},"House Page")):null}))}}))}}]),t}(n.Component),J=Object(p.connect)(function(e){return{seats:e.seats}})(F);function q(){return r.a.createElement("div",{className:"container navbar"},r.a.createElement(d.b,{to:"/"},"Home"),r.a.createElement("nav",{className:"nav-links"},r.a.createElement(d.b,{to:"/characters"},"Characters"),r.a.createElement(d.b,{to:"/seats"},"Seats")))}var z=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"comonentDidMount",value:function(){var e=this.props,t=e.match;(0,e.dispatch)(R(t.params.id))}},{key:"componentWillUnmount",value:function(){(0,this.props.dispatch)(C([]))}},{key:"render",value:function(){var e=this.props,t=(e.img,e.loading),a=e.match,n=e.contents,c=e.seats,l=a.params.id,i=c.find(function(e){return e.id===Number(l)});return t||i?r.a.createElement(V,{id:l},function(e){return e.name?r.a.createElement("div",{className:"panel"},r.a.createElement("img",{className:"house-avatar",src:"https://raw.githubusercontent.com/valarliang/data/master/gotimg/".concat(B()(i.name),".jpg"),alt:e.name}),r.a.createElement("h1",{className:"medium-header"},e.name),r.a.createElement("h4",{style:{margin:10}},r.a.createElement(d.b,{style:{cursor:"pointer"},to:{pathname:"/characters",search:"?houseId=".concat(l)}},"View POV Characters")),r.a.createElement("h4",null,"SwornMembers:",e.swornMembers.length),r.a.createElement("div",{className:"panel-title"},e.words?'"'.concat(e.words,'"'):"None"),r.a.createElement("ul",{className:"info-list row"},r.a.createElement("li",null,"CurrentLord",r.a.createElement("div",null,e.currentLord)),r.a.createElement("li",null,"CoatOfArms",r.a.createElement("div",null,e.coatOfArms?e.coatOfArms:r.a.createElement("div",null,"unknown"))),r.a.createElement("li",null,"Region",r.a.createElement("div",null,e.region)),r.a.createElement("li",null,"Seats",r.a.createElement("div",null,e.seats.join("/")))),r.a.createElement("h2",{className:"header"},"Contents"),r.a.createElement("ul",{className:"contents"},n.map(function(e){return r.a.createElement("li",{key:e},r.a.createElement(d.b,{to:"".concat(a.url,"/contents/").concat(B()(e))},r.a.createElement("h4",{className:"contents-title"},e)))}))):null}):r.a.createElement(d.c,{to:"/"})}}]),t}(n.Component);var K=Object(p.connect)(function(e,t){var a=e.houseInfo,n=e.seats;return t.match.params,{contents:Object.keys(a[362]),seats:n,loading:!n[0]}})(z),Q=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container two-column"},r.a.createElement(x,Object.assign({title:"Contents"},this.props)),r.a.createElement(d.d,{path:"".concat(this.props.match.url,"/:articleId"),render:function(t){var a=t.match,n=e.props.contents,c=n[Object.keys(n).find(function(e){return B()(e)===a.params.articleId})],l=Object.prototype.toString.call(c).match(/\[object (.*)\]/)[1].toLowerCase();return r.a.createElement("div",{className:"panel"},r.a.createElement("article",{className:"contents"},"string"===l?r.a.createElement("section",null,r.a.createElement("p",null,c.replace(/\[\d+\]/g,""))):Object.keys(c).map(function(e){return r.a.createElement("section",{key:e},r.a.createElement("h1",{className:"panel-title"},e),r.a.createElement("p",null,c[e].replace(/\[\d+\]/g,"")))})))}}))}}]),t}(n.Component);var X=Object(p.connect)(function(e,t){var a=e.houseInfo,n=(t.match.params,a[362]);return{list:Object.keys(n).map(function(e){return{name:e,id:B()(e)}}),contents:n}})(Q),Y=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(L())}},{key:"render",value:function(){var e=this.props.loading;return r.a.createElement(d.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(b.a,{style:{position:"fixed"}}),r.a.createElement(q,null),e?null:r.a.createElement(d.e,null,r.a.createElement(d.d,{exact:!0,path:"/",component:M}),r.a.createElement(d.d,{path:"/characters",component:_}),r.a.createElement(d.d,{path:"/seats",component:J}),r.a.createElement(d.d,{exact:!0,path:"/:id",component:K}),r.a.createElement(d.d,{path:"/:id/contents",component:X}),r.a.createElement(d.d,{render:function(){return r.a.createElement("h1",{className:"text-center"},'oops! Sorry, there is no content here(\uffe3\u25bd\uffe3)."')}}))))}}]),t}(n.Component),Z=Object(p.connect)(function(e){return{loading:!e.seats[0]}})(Y),$=a(47),ee=a(16),te=Object(ee.c)({seats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return e.concat(t.seats);default:return e}},members:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.members;case w:return t.panel;default:return e}},character:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.character;case w:return t.panel;default:return e}},house:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.house;case w:return t.panel;default:return e}},houseInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object($.a)({},e,t.houseInfo);default:return e}},loadingBar:v.loadingBarReducer});var ae=a(45),ne=a.n(ae),re=Object(ee.a)(ne.a),ce=Object(ee.d)(te,re);l.a.render(r.a.createElement(p.Provider,{store:ce},r.a.createElement(Z,null)),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.ac4277f5.chunk.js.map