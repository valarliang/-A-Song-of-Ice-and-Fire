(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),s=(a(63),a(7)),o=a(8),i=a(10),u=a(9),m=a(11),d=a(3),h=a(5),p=a(50),E=a(13),f=a.n(E),v=a(15),b=a.n(v),g="RECEIVE_DATA",j="GET_MEMBERS";function O(){return function(e){return e(Object(v.showLoading)()),f.a.all([f.a.get("https://raw.githubusercontent.com/valarliang/data/master/gotcontents.js"),f.a.get("https://raw.githubusercontent.com/valarliang/data/master/gotdata.js")]).then(function(t){var a=Object(p.a)(t,2),n=a[0].data,r=a[1].data.seats,c=[],l=[];r.forEach(function(e){c.push(f.a.get("https://www.anapioficeandfire.com/api/houses/"+e.id).then(function(t){var a=t.data;a.currentLord?l.push(f.a.get(a.currentLord).then(function(t){var n=t.data.name;a.currentLord=n,e.house=a})):e.house=a}))}),Promise.all(c).then(function(){Promise.all(l).then(function(){e(function(e,t){return{type:g,seats:e,houseInfo:t}}(r,n)),e(Object(v.hideLoading)())})})})}}function y(){return function(e){return e(Object(v.showLoading)()),f.a.get("https://raw.githubusercontent.com/valarliang/data/master/gotdata.js").then(function(t){var a=t.data.characters;f.a.all(a.map(function(e){return f.a.get("https://www.anapioficeandfire.com/api/characters/"+e.id)})).then(function(t){var a=t.map(function(e){return e.data}),n=[];a.forEach(function(e,t,a){var r=a.filter(function(t){var a=t.name.split(" ").pop(),n=e.name.split(" ").pop(),r=t.name.split(" ")[0],c=e.name.split(" ")[0];return a===n&&r!==c});if((!e.allegiances[0]||!e.culture[0])&&r[0]){var c=r.find(function(e){return e.allegiances[0]}),l=r.find(function(e){return e.culture});!e.allegiances[0]&&c&&(e.allegiances=c.allegiances),!e.culture&&l&&(e.culture=l.culture)}n.push(f.a.all(e.allegiances.map(function(e){return f.a.get(e)})).then(function(t){t[0]?e.house=t.map(function(e){return e.data.name}):e.house=[]}))}),Promise.all(n).then(function(){e(function(e){return{type:j,members:e}}(a)),e(Object(v.hideLoading)())})})})}}var N=a(6),w=a.n(N),k=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.seats;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"large-header"},"A GAME OF THRONES IN WESTEROS"),r.a.createElement("h3",{className:"header text-center"},"Select a Seat"),r.a.createElement("div",{className:"home-grid text-center"},e.map(function(e,t){return r.a.createElement(d.b,{key:e.name,to:"/".concat(w()(e.name)),style:{background:"url('https://raw.githubusercontent.com/valarliang/data/master/gotimg/sigil.jpg') -".concat(130*t,"px")}},e.name)})))}}]),t}(n.Component),C=Object(h.connect)(function(e){return{seats:e.seats}})(k);function S(e){var t=e.to,a=e.children;return r.a.createElement(d.d,{path:t.pathname,children:function(e){var n=e.match;return r.a.createElement("li",{style:{fontWeight:n?"bold":"normal",background:n?"black":""}},r.a.createElement(d.b,{to:t,style:{color:n?"white":""}},a))}})}function I(e){var t=e.title,a=e.list,n=e.location,c=e.match;return r.a.createElement("div",null,r.a.createElement("h3",{className:"header"},t),r.a.createElement("ul",{className:"sidebar-list"},a.map(function(e){return r.a.createElement(S,{key:e.name,to:{pathname:"".concat(c.url,"/").concat(w()(e.name)),search:n.search}},e.name.toUpperCase())})))}var L=a(48),T=a(16),x=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.character,a=e.seats,n=e.location;return r.a.createElement(T.TransitionGroup,{className:"panel"},r.a.createElement(T.CSSTransition,{key:n.key,timeout:300,classNames:"fade"},r.a.createElement("div",{className:"panel"},r.a.createElement("img",{className:"avatar",src:"https://raw.githubusercontent.com/valarliang/data/master/gotimg/".concat(w()(t.name),".jpg"),alt:t.name}),r.a.createElement("h1",{className:"medium-header"},t.name),r.a.createElement("div",{className:"panel-title"},"Titles"),r.a.createElement("ul",{className:"info-list"},t.titles[0]?t.titles.map(function(e){return r.a.createElement("li",{key:e},r.a.createElement("div",null,e))}):r.a.createElement("div",null,"~unknown~")),r.a.createElement("div",{className:"panel-title"},"Aliases"),r.a.createElement("ul",{className:"info-list"},t.aliases[0]?t.aliases.map(function(e){return r.a.createElement("li",{key:e},r.a.createElement("div",null,e))}):r.a.createElement("div",null,"~unknown~")),r.a.createElement("div",{className:"row"},r.a.createElement("ul",{className:"info-list",style:{marginRight:"80px"}},r.a.createElement("li",null,"Culture",r.a.createElement("div",null,t.culture?t.culture:r.a.createElement("div",null,"~unknown~"))),r.a.createElement("li",null,"House",t.house[0]?t.house.map(function(e,t){var n=a.find(function(t){return e===t.house.name});return n?r.a.createElement(d.b,{key:e,style:{color:"#68809a"},to:"/".concat(w()(n.name))},r.a.createElement("div",null,e)):r.a.createElement("div",{key:e},e)}):r.a.createElement("div",null,"~unknown~"))),r.a.createElement("ul",{className:"info-list"},r.a.createElement("li",null,"Born",r.a.createElement("div",null,t.born)),r.a.createElement("li",null,"Impersonator",r.a.createElement("div",null,t.playedBy[0]?t.playedBy.join("/"):r.a.createElement("div",null,"~unknown~"))))))))}}]),t}(n.Component);var R=Object(h.connect)(function(e,t){var a=e.members,n=e.seats,r=t.match;return{character:a.find(function(e){return w()(e.name)===r.params.id}),seats:n}})(x),A=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch;e.members[0]||t(y())}},{key:"render",value:function(){var e=this.props,t=e.members,a=e.match,n=e.location;return t[0]?r.a.createElement("div",{className:"container two-column"},r.a.createElement(I,Object.assign({title:"POV Characters",list:t},this.props)),"/characters"===n.pathname?r.a.createElement("div",{className:"sidebar-instruction header"},"Select a character"):null,r.a.createElement(d.d,{path:"".concat(a.url,"/:id"),component:R})):null}}]),t}(n.Component);var B=Object(h.connect)(function(e,t){var a=e.members,n=t.location;return t.match,n.search&&(a=a.filter(function(e){return e.house.some(function(e){return w()(e)===Object(L.parse)(n.search).houseId})})),{members:a}})(A),M=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.children(this.props.house)}}]),t}(n.Component);var P=Object(h.connect)(function(e,t){var a=e.seats,n=t.id;return{house:a.find(function(e){return w()(e.name)===n}).house}})(M),G=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.seats,a=e.location,n=e.match;return t[0]?r.a.createElement("div",{className:"container two-column"},r.a.createElement(I,Object.assign({title:"Seats Of Houses",list:t},this.props)),"/seats"===a.pathname?r.a.createElement("div",{className:"sidebar-instruction header"},"Select a seat"):null,r.a.createElement(d.d,{path:"".concat(n.url,"/:id"),render:function(e){var t=e.match;return r.a.createElement(T.TransitionGroup,{className:"panel"},r.a.createElement(T.CSSTransition,{key:a.key,timeout:300,classNames:"fade"},r.a.createElement("div",{className:"panel"},r.a.createElement(P,{id:t.params.id},function(e){return r.a.createElement("div",{className:"panel"},r.a.createElement("img",{className:"house-avatar",src:"https://raw.githubusercontent.com/valarliang/data/master/gotimg/".concat(t.params.id,".jpg"),alt:e.name}),r.a.createElement("h1",{className:"medium-header"},e.name),r.a.createElement("div",{className:"panel-title"},e.words?'"'.concat(e.words,'"'):"None"),r.a.createElement("div",{className:"row"},r.a.createElement("ul",{className:"info-list",style:{marginRight:"80px"}},r.a.createElement("li",null,"CurrentLord",r.a.createElement("div",null,e.currentLord)),r.a.createElement("li",null,"Founded",r.a.createElement("div",null,e.founded?e.founded:r.a.createElement("div",null,"unknown")))),r.a.createElement("ul",{className:"info-list"},r.a.createElement("li",null,"Region",r.a.createElement("div",null,e.region)),r.a.createElement("li",null,"Seats",r.a.createElement("div",null,e.seats.join("/"))))),r.a.createElement(d.b,{className:"center btn-main",to:"/".concat(t.params.id)},"House Page"))}))))}})):null}}]),t}(n.Component),H=Object(h.connect)(function(e){return{seats:e.seats}})(G);function V(){return r.a.createElement("div",{className:"container navbar"},r.a.createElement(d.b,{to:"/"},"Home"),r.a.createElement("nav",{className:"nav-links"},r.a.createElement(d.b,{to:"/characters"},"Characters"),r.a.createElement(d.b,{to:"/seats"},"Seats")))}var D=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.match,a=e.contents,n=e.seats,c=t.params.id;return n.some(function(e){return w()(e.name)===c})?r.a.createElement(P,{id:c},function(e){return e?r.a.createElement("div",{className:"panel"},r.a.createElement("img",{className:"house-avatar",src:"https://raw.githubusercontent.com/valarliang/data/master/gotimg/".concat(w()(c),".jpg"),alt:e.name}),r.a.createElement("h1",{className:"medium-header"},e.name),r.a.createElement("h4",{style:{margin:10}},r.a.createElement(d.b,{style:{cursor:"pointer"},to:{pathname:"/characters",search:"?houseId=".concat(w()(e.name))}},"View POV Characters")),r.a.createElement("h4",null,"SwornMembers:",e.swornMembers.length),r.a.createElement("div",{className:"panel-title"},e.words?'"'.concat(e.words,'"'):"None"),r.a.createElement("ul",{className:"info-list row"},r.a.createElement("li",null,"CurrentLord",r.a.createElement("div",null,e.currentLord?e.currentLord:r.a.createElement("div",null,"unknown"))),r.a.createElement("li",null,"CoatOfArms",r.a.createElement("div",null,e.coatOfArms?e.coatOfArms:r.a.createElement("div",null,"unknown"))),r.a.createElement("li",null,"Region",r.a.createElement("div",null,e.region)),r.a.createElement("li",null,"Seats",r.a.createElement("div",null,e.seats.join("/")))),r.a.createElement("h2",{className:"header"},"Contents"),r.a.createElement("ul",{className:"contents"},a.map(function(e){return r.a.createElement("li",{key:e},r.a.createElement(d.b,{to:"".concat(t.url,"/contents/").concat(w()(e))},r.a.createElement("h4",{className:"contents-title"},e)))}))):null}):r.a.createElement(d.c,{to:"/"})}}]),t}(n.Component);var F=Object(h.connect)(function(e,t){var a=e.houseInfo,n=e.seats;return t.match,{contents:Object.keys(a[362]),seats:n}})(D),J=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container two-column"},r.a.createElement(I,Object.assign({title:"Contents"},this.props)),r.a.createElement(d.d,{path:"".concat(this.props.match.url,"/:articleId"),render:function(t){var a=t.match,n=t.location,c=e.props.contents,l=c[Object.keys(c).find(function(e){return w()(e)===a.params.articleId})],s=Object.prototype.toString.call(l).match(/\[object (.*)\]/)[1].toLowerCase();return r.a.createElement(T.TransitionGroup,{className:"panel"},r.a.createElement(T.CSSTransition,{key:n.key,timeout:300,classNames:"fade"},r.a.createElement("div",{className:"panel"},r.a.createElement("article",{className:"contents"},"string"===s?r.a.createElement("section",null,r.a.createElement("p",null,l.replace(/\[\d+\]/g,""))):Object.keys(l).map(function(e){return r.a.createElement("section",{key:e},r.a.createElement("h1",{className:"article-header"},e),r.a.createElement("p",null,l[e].replace(/\[\d+\]/g,"")))})))))}}))}}]),t}(n.Component);var W=Object(h.connect)(function(e,t){var a=e.houseInfo,n=(t.match.params,a[362]);return{list:Object.keys(n).map(function(e){return{name:e,id:w()(e)}}),contents:n}})(J),_=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(O())}},{key:"render",value:function(){var e=this.props.loading;return r.a.createElement(d.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(b.a,{style:{position:"fixed"}}),r.a.createElement(V,null),e?null:r.a.createElement(d.e,null,r.a.createElement(d.d,{exact:!0,path:"/",component:C}),r.a.createElement(d.d,{path:"/characters",component:B}),r.a.createElement(d.d,{path:"/seats",component:H}),r.a.createElement(d.d,{exact:!0,path:"/:id",component:F}),r.a.createElement(d.d,{path:"/:id/contents",component:W}),r.a.createElement(d.d,{render:function(){return r.a.createElement("h1",{className:"text-center"},'oops! Sorry, there is no content here(\uffe3\u25bd\uffe3)."')}}))))}}]),t}(n.Component),U=Object(h.connect)(function(e){return{loading:!e.seats[0]}})(_),q=a(51),z=a(17),K=Object(z.c)({seats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return e.concat(t.seats);default:return e}},members:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.members;default:return e}},houseInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(q.a)({},e,t.houseInfo);default:return e}},loadingBar:v.loadingBarReducer});var Q=a(49),X=a.n(Q),Y=Object(z.a)(X.a),Z=Object(z.d)(K,Y);l.a.render(r.a.createElement(h.Provider,{store:Z},r.a.createElement(U,null)),document.getElementById("root"))},52:function(e,t,a){e.exports=a(103)},63:function(e,t,a){}},[[52,1,2]]]);
//# sourceMappingURL=main.7eae3416.chunk.js.map